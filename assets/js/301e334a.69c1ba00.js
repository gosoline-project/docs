"use strict";(self.webpackChunkgosoline_docs=self.webpackChunkgosoline_docs||[]).push([["956"],{4581(n,i,o){o.r(i),o.d(i,{metadata:()=>e,default:()=>f,frontMatter:()=>c,contentTitle:()=>l,toc:()=>g,assets:()=>a});var e=JSON.parse('{"id":"how-to/load-configs","title":"Load configurations","description":"There are different ways to load configurations into your application:","source":"@site/docs/how-to/load-configs.mdx","sourceDirName":"how-to","slug":"/how-to/load-configs","permalink":"/docs/how-to/load-configs","draft":false,"unlisted":false,"editUrl":"https://github.com/gosoline-project/docs/tree/main/docs/how-to/load-configs.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Load configurations"},"sidebar":"docSidebar","previous":{"title":"Configure your HTTP servers","permalink":"/docs/how-to/configure-your-httpserver"},"next":{"title":"Use loggers","permalink":"/docs/how-to/logging/use-loggers"}}'),t=o(4848),r=o(8453),s=o(1113);let c={sidebar_position:1,title:"Load configurations"},l,a={},g=[{value:"Conclusion",id:"conclusion",level:2}];function h(n){let i={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...n.components},{Details:o}=i;return o||function(n,i){throw Error("Expected "+(i?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"There are different ways to load configurations into your application:"}),"\n",(0,t.jsxs)(o,{children:[(0,t.jsx)("summary",{children:"From a file"}),(0,t.jsx)(i.p,{children:"First, configure your project in a yaml file:"}),(0,t.jsx)(s.A,{showLineNumbers:!0,language:"yaml",title:"config.dist.yml",children:"port: 80\nhost: example.com\n\nstruct_example:\n  port: 80\n  host: example.com\n  timeout: 5s\n  threshold: 100"}),(0,t.jsx)(i.p,{children:"Then, load your configurations into your application:"}),(0,t.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n	// 1\n	"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n	// 2\n	config := cfg.New()\n\n	// 3\n	options := []cfg.Option{\n		cfg.WithConfigFile("config.dist.yml", "yml"),\n	}\n\n	// 4\n	if err := config.Option(options...); err != nil {\n		panic(err)\n	}\n}\n'}),(0,t.jsx)(i.p,{children:"Here, you:"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Import the ",(0,t.jsx)(i.code,{children:"cfg"})," package."]}),"\n",(0,t.jsx)(i.li,{children:"Create a new configuration object."}),"\n",(0,t.jsx)(i.li,{children:"Load configurations from the file."}),"\n",(0,t.jsx)(i.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,t.jsxs)(o,{children:[(0,t.jsx)("summary",{children:"From a map"}),(0,t.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n	// 1\n	"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n	// 2\n	config := cfg.New()\n\n	// 3\n	options := []cfg.Option{\n		cfg.WithConfigMap(map[string]any{\n			"enabled": true,\n		}),\n	}\n\n	// 4\n	if err := config.Option(options...); err != nil {\n		panic(err)\n	}\n}\n'}),(0,t.jsx)(i.p,{children:"Here, you:"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Import the ",(0,t.jsx)(i.code,{children:"cfg"})," package."]}),"\n",(0,t.jsx)(i.li,{children:"Create a new configuration object."}),"\n",(0,t.jsx)(i.li,{children:"Load configurations from the map."}),"\n",(0,t.jsx)(i.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,t.jsxs)(o,{children:[(0,t.jsx)("summary",{children:"From individual settings"}),(0,t.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n	// 1\n	"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n	// 2\n	config := cfg.New()\n\n	// 3\n	options := []cfg.Option{\n		cfg.WithConfigSetting("host", "localhost"),\n		cfg.WithConfigSetting("port", "80"),\n	}\n\n	// 4\n	if err := config.Option(options...); err != nil {\n		panic(err)\n	}\n}\n'}),(0,t.jsx)(i.p,{children:"Here, you've:"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Import the ",(0,t.jsx)(i.code,{children:"cfg"})," package."]}),"\n",(0,t.jsx)(i.li,{children:"Create a new configuration object."}),"\n",(0,t.jsx)(i.li,{children:"Load configurations from settings."}),"\n",(0,t.jsx)(i.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,t.jsxs)(o,{children:[(0,t.jsx)("summary",{children:"From multiple sources"}),(0,t.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n	// 1\n	"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n	// 2\n	config := cfg.New()\n\n	// 3\n	options := []cfg.Option{\n		cfg.WithConfigFile("config.dist.yml", "yml"),\n		cfg.WithConfigMap(map[string]any{\n			"enabled": true,\n		}),\n		cfg.WithConfigSetting("foo", "bar"),\n	}\n\n	// 4\n	if err := config.Option(options...); err != nil {\n		panic(err)\n	}\n}\n'}),(0,t.jsx)(i.p,{children:"Here, you've:"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Import the ",(0,t.jsx)(i.code,{children:"cfg"})," package."]}),"\n",(0,t.jsx)(i.li,{children:"Create a new configuration object."}),"\n",(0,t.jsx)(i.li,{children:"Load configurations from multiple sources."}),"\n",(0,t.jsx)(i.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,t.jsx)(i.p,{children:"Once you've loaded your configurations, you can access them with type-specific getters. For example:"}),"\n",(0,t.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",lineHighlight:"22-23",children:'package main\n\nimport (\n	"fmt"\n\n	"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n	config := cfg.New()\n\n	options := []cfg.Option{\n		cfg.WithConfigFile("config.dist.yml", "yml"),\n	}\n\n	if err := config.Option(options...); err != nil {\n		panic(err)\n	}\n\n	// highlight-start\n	port, err := config.GetInt("port")\n	if err != nil {\n		panic(fmt.Errorf("failed to get port: %w", err))\n	}\n	fmt.Printf("got port: %d\\n", port)\n\n	host, err := config.GetString("host")\n	if err != nil {\n		panic(fmt.Errorf("failed to get host: %w", err))\n	}\n	fmt.Printf("got host: %s\\n", host)\n	// highlight-end\n}\n'}),"\n",(0,t.jsx)(i.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsx)(i.p,{children:"In this guide, you've learned multiple ways to load configurations into your app with gosoline."}),"\n",(0,t.jsx)(i.p,{children:"Check out these resources to learn more about configurations and gosoline:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/how-to/logging/use-loggers#implement-a-logger-with-an-app-configuration",children:"Configure a logger with gosoline"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/reference/package-cfg",children:"API reference for the cfg package"})}),"\n"]})]})}function f(n={}){let{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,t.jsx)(i,{...n,children:(0,t.jsx)(h,{...n})}):h(n)}}}]);